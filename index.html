<!DOCTYPE html>
<html>

<head>
  <link rel="stylesheet" href="styling.css">
  <!-- <script src="firebase.js"></script> -->
    <meta charset="UTF-8">
    <title>My Game List</title>
    <base href = '/'>

    <style>

    
    </style>

<script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.17.1/firebase-app.js";
  import { getDatabase, set, get, update, remove, ref, child } from "https://www.gstatic.com/firebasejs/9.17.1/firebase-database.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  const firebaseConfig = {
    apiKey: "AIzaSyDzWv4OLtJVh-FKwWr3TN4qXyFxN2lkwdc",
    authDomain: "mygamelist-359f8.firebaseapp.com",
    databaseURL: "https://mygamelist-359f8-default-rtdb.firebaseio.com",
    projectId: "mygamelist-359f8",
    storageBucket: "mygamelist-359f8.appspot.com",
    messagingSenderId: "76881393877",
    appId: "1:76881393877:web:af69993955320518b08a5c"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const db = getDatabase();

  var GameName = document.querySelector('#gamename');
  var DateStarted = document.querySelector('#DateStart');
  var DateCompleted = document.querySelector('#DateComplete');
  var Rating = document.querySelector('#Rating');
  var Comments = document.querySelector('#Comments');

  var submit = document.querySelector('#submitbutton')

  function insertData(){
      set(ref(db, "reviews/" + GameName.value), {
        DateStart: DateStarted.value,
        DateCompleted: DateCompleted.value,
        Rating: Rating.value,
        Comments: Comments.value

      })
      .then(()=> {
        alert("Success!")
      })
      .catch((error) => {
        alert(error)
      });
  }

  submit.addEventListener('click', insertData);

</script>

  </head>
  <body>

    <header>
      <nav>
        <ul id="tabs">
          <li><a href="#home">Add Game</a></li>
          <li><a href="#Games">Games</a></li>
          <li><a href="#MyList">My List</a></li>
          <li><a href="#Account">Account</a></li>
        </ul>
      </nav>

    </header>



    <main>
      <section id="home">
        <form class="review-form">

          <label for="Game Name">Game Name</label>
          <select name="GameName" class="gamename" id="gamename" required>
            <option value="" disabled selected hidden>Select Game Name</option>
            <option value="Marvel's Spider-Man">Marvel's Spider-Man</option>
            <option value = "The Last of Us">The Last of Us</option>
            <option value = "The Last of Us Part II">The Last of Us Part II</option>
            <option value = "Destiny 2">Destiny 2</option>
            <option value = "Call of Duty Modern Warfare II">Call of Duty Modern Warfare II</option>
          </select>

          <label for="Date Started">Date Started</label>
          <input type="date" class="DateSt" name="DateStarted" id="DateStart" required>

          <label for="Date Completed">Date Completed</label>
          <input type="date" class="DateComp" name="DateCompleted" id="DateComplete" required>
  
          <label for="Rating">Rating:</label>
          <input type = "number" class="Rating" id="Rating" name="Rating" min="0" max="10" placeholder="Enter Rating Here" required>
  
          <br>
  
          <label for="Comment">Comments:</label>
          <input type = "text" class="Comments" id="Comments" name="Comments" placeholder="Enter Comments Here">
  
          <div>
            <input type = "reset">
          </div>
  
          <div>
              <button type="submit" id="submitbutton">Submit</button>
          </div>
  
        </form>
      </section>

      <section id="Games">
        <h2>Games</h2>
        <p>Unlimited Games but no Games</p>
       
        <div class = "search-wrapper">
          <label for=search><strong>IGDB Games</strong></label>
          <input type="search" id="search" placeholder="Search Games" />
        </div>

        <div>
          <button type="add"><a href="#add">Add Game</a></button>
        </div>

        <div class ="games" data-games-cards-container></div>

        <template games-template>
          <div class = "game">
            <div class = "game" data-gname></div>
            <div class = "summary" data-genre></div>
          </div>
        </template>

      </section>

      <section id="My List">
        <h2>My List</h2>
        <p>List will be here</p>

        <div class ="games" data-games-cards-container></div>

        <template games-template>
          <div class = "game">
            <div class = "Game Name:" game-name></div>
            <div class = "Date Started:" date-started></div>
            <div class = "Date Completed:" date-completed></div>
            <div class = "Rating:" rating></div>
            <div class = "Comments:" comments></div>
          </div>
        </template>


      </section>

      <section id="Account">
        <h2>Account</h2>
          <form>
            <input type="text" placeholder="Username">
            <input type="password" placeholder="Password">
            <button type="submit">Submit</button>
            <button type="register">Don't Have an Account? Register Here!</button>
          </form>
      </section>

    </main>

    <script src="script.js"></script>


</body>
</html>